{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport getProfile from './getProfile';\nconst initialState = {\n  isInitialized: false,\n  isLoading: true,\n  hasRegistered: false,\n  data: null\n};\nexport const profileSlice = createSlice({\n  name: 'profile',\n  initialState,\n  reducers: {\n    profileFetchStart: state => {\n      state.isLoading = true;\n    },\n    profileFetchSucceeded: (_state, action) => {\n      const {\n        profile,\n        hasRegistered\n      } = action.payload;\n      return {\n        isInitialized: true,\n        isLoading: false,\n        hasRegistered,\n        data: profile\n      };\n    },\n    profileFetchFailed: state => {\n      state.isLoading = false;\n      state.isInitialized = true;\n    },\n    profileClear: () => ({\n      ...initialState,\n      isLoading: false\n    }),\n    addPoints: (state, action) => {\n      state.data.points += action.payload;\n    }\n  }\n});\n\n// Actions\nexport const {\n  profileFetchStart,\n  profileFetchSucceeded,\n  profileFetchFailed,\n  profileClear,\n  addPoints\n} = profileSlice.actions;\n\n// Thunks\n// TODO: this should be an AsyncThunk\nexport const fetchProfile = address => async dispatch => {\n  try {\n    dispatch(profileFetchStart());\n    const response = await getProfile(address);\n    dispatch(profileFetchSucceeded(response));\n  } catch (error) {\n    dispatch(profileFetchFailed());\n  }\n};\nexport default profileSlice.reducer;","map":{"version":3,"names":["createSlice","getProfile","initialState","isInitialized","isLoading","hasRegistered","data","profileSlice","name","reducers","profileFetchStart","state","profileFetchSucceeded","_state","action","profile","payload","profileFetchFailed","profileClear","addPoints","points","actions","fetchProfile","address","dispatch","response","error","reducer"],"sources":["/Users/namratapatel/upwork/SmartFinance-OmniDex/src/state/profile/index.tsx"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { ProfileState } from 'state/types'\nimport type { AppDispatch } from 'state'\nimport getProfile, { GetProfileResponse } from './getProfile'\n\nconst initialState: ProfileState = {\n  isInitialized: false,\n  isLoading: true,\n  hasRegistered: false,\n  data: null,\n}\n\nexport const profileSlice = createSlice({\n  name: 'profile',\n  initialState,\n  reducers: {\n    profileFetchStart: (state) => {\n      state.isLoading = true\n    },\n    profileFetchSucceeded: (_state, action: PayloadAction<GetProfileResponse>) => {\n      const { profile, hasRegistered } = action.payload\n\n      return {\n        isInitialized: true,\n        isLoading: false,\n        hasRegistered,\n        data: profile,\n      }\n    },\n    profileFetchFailed: (state) => {\n      state.isLoading = false\n      state.isInitialized = true\n    },\n    profileClear: () => ({\n      ...initialState,\n      isLoading: false,\n    }),\n    addPoints: (state, action: PayloadAction<number>) => {\n      state.data.points += action.payload\n    },\n  },\n})\n\n// Actions\nexport const { profileFetchStart, profileFetchSucceeded, profileFetchFailed, profileClear, addPoints } =\n  profileSlice.actions\n\n// Thunks\n// TODO: this should be an AsyncThunk\nexport const fetchProfile = (address: string) => async (dispatch: AppDispatch) => {\n  try {\n    dispatch(profileFetchStart())\n    const response = await getProfile(address)\n    dispatch(profileFetchSucceeded(response))\n  } catch (error) {\n    dispatch(profileFetchFailed())\n  }\n}\n\nexport default profileSlice.reducer\n"],"mappings":"AAAA,SAASA,WAAW,QAAuB,kBAAkB;AAG7D,OAAOC,UAAU,MAA8B,cAAc;AAE7D,MAAMC,YAA0B,GAAG;EACjCC,aAAa,EAAE,KAAK;EACpBC,SAAS,EAAE,IAAI;EACfC,aAAa,EAAE,KAAK;EACpBC,IAAI,EAAE;AACR,CAAC;AAED,OAAO,MAAMC,YAAY,GAAGP,WAAW,CAAC;EACtCQ,IAAI,EAAE,SAAS;EACfN,YAAY;EACZO,QAAQ,EAAE;IACRC,iBAAiB,EAAGC,KAAK,IAAK;MAC5BA,KAAK,CAACP,SAAS,GAAG,IAAI;IACxB,CAAC;IACDQ,qBAAqB,EAAEA,CAACC,MAAM,EAAEC,MAAyC,KAAK;MAC5E,MAAM;QAAEC,OAAO;QAAEV;MAAc,CAAC,GAAGS,MAAM,CAACE,OAAO;MAEjD,OAAO;QACLb,aAAa,EAAE,IAAI;QACnBC,SAAS,EAAE,KAAK;QAChBC,aAAa;QACbC,IAAI,EAAES;MACR,CAAC;IACH,CAAC;IACDE,kBAAkB,EAAGN,KAAK,IAAK;MAC7BA,KAAK,CAACP,SAAS,GAAG,KAAK;MACvBO,KAAK,CAACR,aAAa,GAAG,IAAI;IAC5B,CAAC;IACDe,YAAY,EAAEA,CAAA,MAAO;MACnB,GAAGhB,YAAY;MACfE,SAAS,EAAE;IACb,CAAC,CAAC;IACFe,SAAS,EAAEA,CAACR,KAAK,EAAEG,MAA6B,KAAK;MACnDH,KAAK,CAACL,IAAI,CAACc,MAAM,IAAIN,MAAM,CAACE,OAAO;IACrC;EACF;AACF,CAAC,CAAC;;AAEF;AACA,OAAO,MAAM;EAAEN,iBAAiB;EAAEE,qBAAqB;EAAEK,kBAAkB;EAAEC,YAAY;EAAEC;AAAU,CAAC,GACpGZ,YAAY,CAACc,OAAO;;AAEtB;AACA;AACA,OAAO,MAAMC,YAAY,GAAIC,OAAe,IAAK,MAAOC,QAAqB,IAAK;EAChF,IAAI;IACFA,QAAQ,CAACd,iBAAiB,CAAC,CAAC,CAAC;IAC7B,MAAMe,QAAQ,GAAG,MAAMxB,UAAU,CAACsB,OAAO,CAAC;IAC1CC,QAAQ,CAACZ,qBAAqB,CAACa,QAAQ,CAAC,CAAC;EAC3C,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdF,QAAQ,CAACP,kBAAkB,CAAC,CAAC,CAAC;EAChC;AACF,CAAC;AAED,eAAeV,YAAY,CAACoB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}