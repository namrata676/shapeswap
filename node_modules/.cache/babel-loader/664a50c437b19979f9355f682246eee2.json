{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-shadow */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable import/no-cycle */\n// import invariant from 'tiny-invariant'\n\nimport { Token, WETH } from './token';\nimport { Price } from './fractions/price';\nexport class Route {\n  constructor(pairs, input, output) {\n    this.pairs = void 0;\n    this.path = void 0;\n    this.input = void 0;\n    this.output = void 0;\n    this.midPrice = void 0;\n    // invariant(pairs.length > 0, 'PAIRS')\n    // invariant(\n    //   pairs.every(pair => pair.chainId === pairs[0].chainId),\n    //   'CHAIN_IDS'\n    // )\n    // invariant(\n    //   (input instanceof Token && pairs[0].involvesToken(input)) ||\n    //     (input === ETHER && pairs[0].involvesToken(WETH[pairs[0].chainId])),\n    //   'INPUT'\n    // )\n    // invariant(\n    //   typeof output === 'undefined' ||\n    //     (output instanceof Token && pairs[pairs.length - 1].involvesToken(output)) ||\n    //     (output === ETHER && pairs[pairs.length - 1].involvesToken(WETH[pairs[0].chainId])),\n    //   'OUTPUT'\n    // )\n\n    const path = [input instanceof Token ? input : WETH[pairs[0].chainId]];\n    for (const [i, pair] of pairs.entries()) {\n      const currentInput = path[i];\n      // invariant(currentInput.equals(pair.token0) || currentInput.equals(pair.token1), 'PATH')\n      const output = currentInput.equals(pair.token0) ? pair.token1 : pair.token0;\n      path.push(output);\n    }\n    this.pairs = pairs;\n    this.path = path;\n    this.midPrice = Price.fromRoute(this);\n    this.input = input;\n    this.output = output !== null && output !== void 0 ? output : path[path.length - 1];\n  }\n  get chainId() {\n    return this.pairs[0].chainId;\n  }\n}","map":{"version":3,"names":["Token","WETH","Price","Route","constructor","pairs","input","output","path","midPrice","chainId","i","pair","entries","currentInput","equals","token0","token1","push","fromRoute","length"],"sources":["/Users/namratapatel/upwork/SmartFinance-OmniDex/src/toolkit/sdk/entities/route.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-shadow */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable import/no-cycle */\n// import invariant from 'tiny-invariant'\nimport { ChainId } from '../constants'\n\nimport { Currency, ETHER } from './currency'\nimport { Token, WETH } from './token'\nimport { Pair } from './pair'\nimport { Price } from './fractions/price'\n\nexport class Route {\n  public readonly pairs: Pair[]\n\n  public readonly path: Token[]\n\n  public readonly input: Currency\n\n  public readonly output: Currency\n  \n  public readonly midPrice: Price\n\n  public constructor(pairs: Pair[], input: Currency, output?: Currency) {\n    // invariant(pairs.length > 0, 'PAIRS')\n    // invariant(\n    //   pairs.every(pair => pair.chainId === pairs[0].chainId),\n    //   'CHAIN_IDS'\n    // )\n    // invariant(\n    //   (input instanceof Token && pairs[0].involvesToken(input)) ||\n    //     (input === ETHER && pairs[0].involvesToken(WETH[pairs[0].chainId])),\n    //   'INPUT'\n    // )\n    // invariant(\n    //   typeof output === 'undefined' ||\n    //     (output instanceof Token && pairs[pairs.length - 1].involvesToken(output)) ||\n    //     (output === ETHER && pairs[pairs.length - 1].involvesToken(WETH[pairs[0].chainId])),\n    //   'OUTPUT'\n    // )\n\n    const path: Token[] = [input instanceof Token ? input : WETH[pairs[0].chainId]]\n    for (const [i, pair] of pairs.entries()) {\n      const currentInput = path[i]\n      // invariant(currentInput.equals(pair.token0) || currentInput.equals(pair.token1), 'PATH')\n      const output = currentInput.equals(pair.token0) ? pair.token1 : pair.token0\n      path.push(output)\n    }\n\n    this.pairs = pairs\n    this.path = path\n    this.midPrice = Price.fromRoute(this)\n    this.input = input\n    this.output = output ?? path[path.length - 1]\n  }\n\n  public get chainId(): ChainId {\n    return this.pairs[0].chainId\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAIA,SAASA,KAAK,EAAEC,IAAI,QAAQ,SAAS;AAErC,SAASC,KAAK,QAAQ,mBAAmB;AAEzC,OAAO,MAAMC,KAAK,CAAC;EAWVC,WAAWA,CAACC,KAAa,EAAEC,KAAe,EAAEC,MAAiB,EAAE;IAAA,KAVtDF,KAAK;IAAA,KAELG,IAAI;IAAA,KAEJF,KAAK;IAAA,KAELC,MAAM;IAAA,KAENE,QAAQ;IAGtB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA,MAAMD,IAAa,GAAG,CAACF,KAAK,YAAYN,KAAK,GAAGM,KAAK,GAAGL,IAAI,CAACI,KAAK,CAAC,CAAC,CAAC,CAACK,OAAO,CAAC,CAAC;IAC/E,KAAK,MAAM,CAACC,CAAC,EAAEC,IAAI,CAAC,IAAIP,KAAK,CAACQ,OAAO,CAAC,CAAC,EAAE;MACvC,MAAMC,YAAY,GAAGN,IAAI,CAACG,CAAC,CAAC;MAC5B;MACA,MAAMJ,MAAM,GAAGO,YAAY,CAACC,MAAM,CAACH,IAAI,CAACI,MAAM,CAAC,GAAGJ,IAAI,CAACK,MAAM,GAAGL,IAAI,CAACI,MAAM;MAC3ER,IAAI,CAACU,IAAI,CAACX,MAAM,CAAC;IACnB;IAEA,IAAI,CAACF,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACG,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,QAAQ,GAAGP,KAAK,CAACiB,SAAS,CAAC,IAAI,CAAC;IACrC,IAAI,CAACb,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,MAAM,GAAGA,MAAM,aAANA,MAAM,cAANA,MAAM,GAAIC,IAAI,CAACA,IAAI,CAACY,MAAM,GAAG,CAAC,CAAC;EAC/C;EAEA,IAAWV,OAAOA,CAAA,EAAY;IAC5B,OAAO,IAAI,CAACL,KAAK,CAAC,CAAC,CAAC,CAACK,OAAO;EAC9B;AACF","ignoreList":[]},"metadata":{},"sourceType":"module"}