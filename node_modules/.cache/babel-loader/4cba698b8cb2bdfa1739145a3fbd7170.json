{"ast":null,"code":"import _objectSpread from\"/Users/namratapatel/upwork/SmartFinance-OmniDex/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/Users/namratapatel/upwork/SmartFinance-OmniDex/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _taggedTemplateLiteral from\"/Users/namratapatel/upwork/SmartFinance-OmniDex/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";const _excluded=[\"src\",\"alt\",\"width\",\"height\"];var _templateObject,_templateObject2;import React,{useEffect,useRef,useState}from\"react\";import styled from\"styled-components\";import observerOptions from\"./options\";import Wrapper from\"./Wrapper\";import{jsx as _jsx}from\"react/jsx-runtime\";const StyledImage=styled.img(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n\"])));const Placeholder=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n\"])));const Image=_ref=>{let{src,alt,width,height}=_ref,props=_objectWithoutProperties(_ref,_excluded);const imgRef=useRef(null);const[isLoaded,setIsLoaded]=useState(false);useEffect(()=>{let observer;if(imgRef.current){observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{const{isIntersecting}=entry;if(isIntersecting){setIsLoaded(true);observer.disconnect();}});},observerOptions);observer.observe(imgRef.current);}return()=>{if(observer){observer.disconnect();}};},[src]);return/*#__PURE__*/_jsx(Wrapper,_objectSpread(_objectSpread({ref:imgRef,height:height,width:width},props),{},{children:isLoaded?/*#__PURE__*/_jsx(StyledImage,{src:src,alt:alt}):/*#__PURE__*/_jsx(Placeholder,{})}));};export default Image;","map":{"version":3,"names":["React","useEffect","useRef","useState","styled","observerOptions","Wrapper","jsx","_jsx","StyledImage","img","_templateObject","_taggedTemplateLiteral","Placeholder","div","_templateObject2","Image","_ref","src","alt","width","height","props","_objectWithoutProperties","_excluded","imgRef","isLoaded","setIsLoaded","observer","current","IntersectionObserver","entries","forEach","entry","isIntersecting","disconnect","observe","_objectSpread","ref","children"],"sources":["/Users/namratapatel/upwork/SmartFinance-OmniDex/src/uikit/components/Image/Image.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport observerOptions from \"./options\";\nimport Wrapper from \"./Wrapper\";\nimport { ImageProps } from \"./types\";\n\nconst StyledImage = styled.img`\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n`;\n\nconst Placeholder = styled.div`\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n`;\n\nconst Image: React.FC<ImageProps> = ({ src, alt, width, height, ...props }) => {\n  const imgRef = useRef<HTMLDivElement>(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    let observer: IntersectionObserver;\n\n    if (imgRef.current) {\n      observer = new IntersectionObserver((entries) => {\n        entries.forEach((entry) => {\n          const { isIntersecting } = entry;\n          if (isIntersecting) {\n            setIsLoaded(true);\n            observer.disconnect();\n          }\n        });\n      }, observerOptions);\n      observer.observe(imgRef.current);\n    }\n\n    return () => {\n      if (observer) {\n        observer.disconnect();\n      }\n    };\n  }, [src]);\n\n  return (\n    <Wrapper ref={imgRef} height={height} width={width} {...props}>\n      {isLoaded ? <StyledImage src={src} alt={alt} /> : <Placeholder />}\n    </Wrapper>\n  );\n};\n\nexport default Image;\n"],"mappings":"sgBAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,eAAe,KAAM,WAAW,CACvC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAGhC,KAAM,CAAAC,WAAW,CAAGL,MAAM,CAACM,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,yFAM7B,CAED,KAAM,CAAAC,WAAW,CAAGT,MAAM,CAACU,GAAG,CAAAC,gBAAA,GAAAA,gBAAA,CAAAH,sBAAA,yFAM7B,CAED,KAAM,CAAAI,KAA2B,CAAGC,IAAA,EAA2C,IAA1C,CAAEC,GAAG,CAAEC,GAAG,CAAEC,KAAK,CAAEC,MAAiB,CAAC,CAAAJ,IAAA,CAAPK,KAAK,CAAAC,wBAAA,CAAAN,IAAA,CAAAO,SAAA,EACtE,KAAM,CAAAC,MAAM,CAAGvB,MAAM,CAAiB,IAAI,CAAC,CAC3C,KAAM,CAACwB,QAAQ,CAAEC,WAAW,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CAE/CF,SAAS,CAAC,IAAM,CACd,GAAI,CAAA2B,QAA8B,CAElC,GAAIH,MAAM,CAACI,OAAO,CAAE,CAClBD,QAAQ,CAAG,GAAI,CAAAE,oBAAoB,CAAEC,OAAO,EAAK,CAC/CA,OAAO,CAACC,OAAO,CAAEC,KAAK,EAAK,CACzB,KAAM,CAAEC,cAAe,CAAC,CAAGD,KAAK,CAChC,GAAIC,cAAc,CAAE,CAClBP,WAAW,CAAC,IAAI,CAAC,CACjBC,QAAQ,CAACO,UAAU,CAAC,CAAC,CACvB,CACF,CAAC,CAAC,CACJ,CAAC,CAAE9B,eAAe,CAAC,CACnBuB,QAAQ,CAACQ,OAAO,CAACX,MAAM,CAACI,OAAO,CAAC,CAClC,CAEA,MAAO,IAAM,CACX,GAAID,QAAQ,CAAE,CACZA,QAAQ,CAACO,UAAU,CAAC,CAAC,CACvB,CACF,CAAC,CACH,CAAC,CAAE,CAACjB,GAAG,CAAC,CAAC,CAET,mBACEV,IAAA,CAACF,OAAO,CAAA+B,aAAA,CAAAA,aAAA,EAACC,GAAG,CAAEb,MAAO,CAACJ,MAAM,CAAEA,MAAO,CAACD,KAAK,CAAEA,KAAM,EAAKE,KAAK,MAAAiB,QAAA,CAC1Db,QAAQ,cAAGlB,IAAA,CAACC,WAAW,EAACS,GAAG,CAAEA,GAAI,CAACC,GAAG,CAAEA,GAAI,CAAE,CAAC,cAAGX,IAAA,CAACK,WAAW,GAAE,CAAC,EAC1D,CAAC,CAEd,CAAC,CAED,cAAe,CAAAG,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module"}