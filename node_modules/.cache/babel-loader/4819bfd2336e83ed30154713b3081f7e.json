{"ast":null,"code":"import { useCallback, useEffect } from \"react\";\nimport debounce from \"lodash/debounce\";\nconst defaultParticleOptions = {\n  size: 30,\n  distance: 500\n};\nconst createParticle = function (x, y, imgSrc) {\n  let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const {\n    size,\n    distance\n  } = {\n    ...defaultParticleOptions,\n    ...options\n  };\n  const particle = document.createElement(\"particle\");\n  document.body.appendChild(particle);\n  const width = Math.floor(Math.random() * size + 8);\n  const height = width;\n  const destinationX = (Math.random() - 0.5) * distance;\n  const destinationY = (Math.random() - 0.5) * distance;\n  const rotation = Math.random() * 520;\n  const delay = Math.random() * 200;\n  particle.style.backgroundRepeat = \"no-repeat\";\n  particle.style.backgroundSize = \"contain\";\n  particle.style.backgroundImage = `url(${imgSrc})`;\n  particle.style.left = \"0\";\n  particle.style.top = \"0\";\n  particle.style.opacity = \"0\";\n  particle.style.pointerEvents = \"none\";\n  particle.style.position = \"fixed\";\n  particle.style.width = `${width}px`;\n  particle.style.height = `${height}px`;\n  const animation = particle.animate([{\n    transform: `translate(-50%, -50%) translate(${x}px, ${y}px) rotate(0deg)`,\n    opacity: 1\n  }, {\n    transform: `translate(-50%, -50%) translate(${x + destinationX}px, ${y + destinationY}px) rotate(${rotation}deg)`,\n    opacity: 0\n  }], {\n    duration: Math.random() * 1000 + 5000,\n    easing: \"cubic-bezier(0, .9, .57, 1)\",\n    delay\n  });\n  animation.onfinish = () => {\n    particle.remove();\n  };\n};\nconst defaultOptions = {\n  numberOfParticles: 30,\n  debounceDuration: 200,\n  particleOptions: {}\n};\n\n/**\n * @see https://css-tricks.com/playing-with-particles-using-the-web-animations-api/\n */\nconst useParticleBurst = options => {\n  const {\n    selector,\n    numberOfParticles,\n    debounceDuration,\n    imgSrc,\n    disableWhen,\n    particleOptions\n  } = {\n    ...defaultOptions,\n    ...options\n  };\n  const makeListener = useCallback(() => debounce(event => {\n    const isDisabled = disableWhen && disableWhen();\n    if (!isDisabled) {\n      const node = event.currentTarget;\n      if (event.clientX === 0 && event.clientY === 0) {\n        const {\n          left,\n          width,\n          top,\n          height\n        } = node.getBoundingClientRect();\n        const x = left + width / 2;\n        const y = top + height / 2;\n        for (let i = 0; i < numberOfParticles; i += 1) {\n          createParticle(x, y, imgSrc, particleOptions);\n        }\n      } else {\n        for (let i = 0; i < numberOfParticles; i += 1) {\n          createParticle(event.clientX, event.clientY + window.scrollY, imgSrc, particleOptions);\n        }\n      }\n    }\n  }, debounceDuration, {\n    leading: true\n  }), [debounceDuration, numberOfParticles, imgSrc, disableWhen, particleOptions]);\n  const listener = makeListener();\n  const initialize = useCallback(() => {\n    if (selector) {\n      document.querySelectorAll(selector).forEach(element => {\n        element.addEventListener(\"click\", listener);\n      });\n    } else {\n      document.addEventListener(\"click\", listener);\n    }\n  }, [selector, listener]);\n  const teardown = useCallback(() => {\n    if (selector) {\n      document.querySelectorAll(selector).forEach(element => {\n        element.removeEventListener(\"click\", listener);\n      });\n    } else {\n      document.removeEventListener(\"click\", listener);\n    }\n  }, [selector, listener]);\n  useEffect(() => {\n    initialize();\n    return () => teardown();\n  }, [initialize, teardown]);\n  return {\n    initialize,\n    teardown\n  };\n};\nexport default useParticleBurst;","map":{"version":3,"names":["useCallback","useEffect","debounce","defaultParticleOptions","size","distance","createParticle","x","y","imgSrc","options","particle","document","createElement","body","appendChild","width","Math","floor","random","height","destinationX","destinationY","rotation","delay","style","backgroundRepeat","backgroundSize","backgroundImage","left","top","opacity","pointerEvents","position","animation","animate","transform","duration","easing","onfinish","remove","defaultOptions","numberOfParticles","debounceDuration","particleOptions","useParticleBurst","selector","disableWhen","makeListener","event","isDisabled","node","currentTarget","clientX","clientY","getBoundingClientRect","i","window","scrollY","leading","listener","initialize","querySelectorAll","forEach","element","addEventListener","teardown","removeEventListener"],"sources":["/Users/namratapatel/upwork/SmartFinance-OmniDex/src/toolkit/uikit/hooks/useParticleBurst.ts"],"sourcesContent":["import { useCallback, useEffect } from \"react\";\nimport debounce from \"lodash/debounce\";\n\ntype ParticleOptions = {\n  size?: number;\n  distance?: number;\n};\n\nconst defaultParticleOptions = {\n  size: 30,\n  distance: 500,\n};\n\nconst createParticle = (x: number, y: number, imgSrc: string, options: ParticleOptions = {}) => {\n  const { size, distance } = { ...defaultParticleOptions, ...options };\n\n  const particle = document.createElement(\"particle\");\n  document.body.appendChild(particle);\n\n  const width = Math.floor(Math.random() * size + 8);\n  const height = width;\n  const destinationX = (Math.random() - 0.5) * distance;\n  const destinationY = (Math.random() - 0.5) * distance;\n  const rotation = Math.random() * 520;\n  const delay = Math.random() * 200;\n\n  particle.style.backgroundRepeat = \"no-repeat\";\n  particle.style.backgroundSize = \"contain\";\n  particle.style.backgroundImage = `url(${imgSrc})`;\n  particle.style.left = \"0\";\n  particle.style.top = \"0\";\n  particle.style.opacity = \"0\";\n  particle.style.pointerEvents = \"none\";\n  particle.style.position = \"fixed\";\n  particle.style.width = `${width}px`;\n  particle.style.height = `${height}px`;\n\n  const animation = particle.animate(\n    [\n      {\n        transform: `translate(-50%, -50%) translate(${x}px, ${y}px) rotate(0deg)`,\n        opacity: 1,\n      },\n      {\n        transform: `translate(-50%, -50%) translate(${x + destinationX}px, ${\n          y + destinationY\n        }px) rotate(${rotation}deg)`,\n        opacity: 0,\n      },\n    ],\n    {\n      duration: Math.random() * 1000 + 5000,\n      easing: \"cubic-bezier(0, .9, .57, 1)\",\n      delay,\n    }\n  );\n\n  animation.onfinish = () => {\n    particle.remove();\n  };\n};\n\ntype Options = {\n  imgSrc: string;\n  selector?: string;\n  numberOfParticles?: number;\n  debounceDuration?: number;\n  disableWhen?: () => boolean;\n  particleOptions?: ParticleOptions;\n};\n\nconst defaultOptions = {\n  numberOfParticles: 30,\n  debounceDuration: 200,\n  particleOptions: {},\n};\n\n/**\n * @see https://css-tricks.com/playing-with-particles-using-the-web-animations-api/\n */\nconst useParticleBurst = (options: Options): { initialize: () => void; teardown: () => void } => {\n  const { selector, numberOfParticles, debounceDuration, imgSrc, disableWhen, particleOptions } = {\n    ...defaultOptions,\n    ...options,\n  };\n\n  const makeListener = useCallback(\n    () =>\n      debounce(\n        (event: MouseEvent) => {\n          const isDisabled = disableWhen && disableWhen();\n\n          if (!isDisabled) {\n            const node = event.currentTarget as HTMLElement;\n\n            if (event.clientX === 0 && event.clientY === 0) {\n              const { left, width, top, height } = node.getBoundingClientRect();\n              const x = left + width / 2;\n              const y = top + height / 2;\n\n              for (let i = 0; i < numberOfParticles; i += 1) {\n                createParticle(x, y, imgSrc, particleOptions);\n              }\n            } else {\n              for (let i = 0; i < numberOfParticles; i += 1) {\n                createParticle(event.clientX, event.clientY + window.scrollY, imgSrc, particleOptions);\n              }\n            }\n          }\n        },\n        debounceDuration,\n        { leading: true }\n      ),\n    [debounceDuration, numberOfParticles, imgSrc, disableWhen, particleOptions]\n  );\n  const listener = makeListener();\n\n  const initialize = useCallback(() => {\n    if (selector) {\n      document.querySelectorAll<HTMLElement>(selector).forEach((element) => {\n        element.addEventListener(\"click\", listener);\n      });\n    } else {\n      document.addEventListener(\"click\", listener);\n    }\n  }, [selector, listener]);\n\n  const teardown = useCallback(() => {\n    if (selector) {\n      document.querySelectorAll<HTMLElement>(selector).forEach((element) => {\n        element.removeEventListener(\"click\", listener);\n      });\n    } else {\n      document.removeEventListener(\"click\", listener);\n    }\n  }, [selector, listener]);\n\n  useEffect(() => {\n    initialize();\n    return () => teardown();\n  }, [initialize, teardown]);\n\n  return { initialize, teardown };\n};\n\nexport default useParticleBurst;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}