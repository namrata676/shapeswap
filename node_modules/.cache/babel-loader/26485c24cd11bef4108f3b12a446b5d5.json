{"ast":null,"code":"var _jsxFileName = \"/Users/namratapatel/upwork/SmartFinance-OmniDex/src/toolkit/uikit/components/Image/Image.tsx\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport observerOptions from \"./options\";\nimport Wrapper from \"./Wrapper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledImage = styled.img`\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n`;\nconst Placeholder = styled.div`\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n`;\nconst Image = _ref => {\n  let {\n    src,\n    alt,\n    width,\n    height,\n    ...props\n  } = _ref;\n  const imgRef = useRef(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  useEffect(() => {\n    let observer;\n    if (imgRef.current) {\n      observer = new IntersectionObserver(entries => {\n        entries.forEach(entry => {\n          const {\n            isIntersecting\n          } = entry;\n          if (isIntersecting) {\n            setIsLoaded(true);\n            observer.disconnect();\n          }\n        });\n      }, observerOptions);\n      observer.observe(imgRef.current);\n    }\n    return () => {\n      if (observer) {\n        observer.disconnect();\n      }\n    };\n  }, [src]);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    ref: imgRef,\n    height: height,\n    width: width,\n    ...props,\n    children: isLoaded ? /*#__PURE__*/_jsxDEV(StyledImage, {\n      src: src,\n      alt: alt\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(Placeholder, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 57\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\nexport default Image;","map":{"version":3,"names":["React","useEffect","useRef","useState","styled","observerOptions","Wrapper","StyledImage","img","Placeholder","div","Image","src","alt","width","height","props","imgRef","isLoaded","setIsLoaded","observer","current","IntersectionObserver","entries","forEach","entry","isIntersecting","disconnect","observe"],"sources":["/Users/namratapatel/upwork/SmartFinance-OmniDex/src/toolkit/uikit/components/Image/Image.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport observerOptions from \"./options\";\nimport Wrapper from \"./Wrapper\";\nimport { ImageProps } from \"./types\";\n\nconst StyledImage = styled.img`\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n`;\n\nconst Placeholder = styled.div`\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n`;\n\nconst Image: React.FC<ImageProps> = ({ src, alt, width, height, ...props }) => {\n  const imgRef = useRef<HTMLDivElement>(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    let observer: IntersectionObserver;\n\n    if (imgRef.current) {\n      observer = new IntersectionObserver((entries) => {\n        entries.forEach((entry) => {\n          const { isIntersecting } = entry;\n          if (isIntersecting) {\n            setIsLoaded(true);\n            observer.disconnect();\n          }\n        });\n      }, observerOptions);\n      observer.observe(imgRef.current);\n    }\n\n    return () => {\n      if (observer) {\n        observer.disconnect();\n      }\n    };\n  }, [src]);\n\n  return (\n    <Wrapper ref={imgRef} height={height} width={width} {...props}>\n      {isLoaded ? <StyledImage src={src} alt={alt} /> : <Placeholder />}\n    </Wrapper>\n  );\n};\n\nexport default Image;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,eAAe,MAAM,WAAW;AACvC,OAAOC,OAAO,MAAM,WAAW;AAAC;AAGhC,MAAMC,WAAW,GAAGH,MAAM,CAACI,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,WAAW,GAAGL,MAAM,CAACM,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,KAA2B,GAAG,QAA2C;EAAA,IAA1C;IAAEC,GAAG;IAAEC,GAAG;IAAEC,KAAK;IAAEC,MAAM;IAAE,GAAGC;EAAM,CAAC;EACxE,MAAMC,MAAM,GAAGf,MAAM,CAAiB,IAAI,CAAC;EAC3C,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAE/CF,SAAS,CAAC,MAAM;IACd,IAAImB,QAA8B;IAElC,IAAIH,MAAM,CAACI,OAAO,EAAE;MAClBD,QAAQ,GAAG,IAAIE,oBAAoB,CAAEC,OAAO,IAAK;QAC/CA,OAAO,CAACC,OAAO,CAAEC,KAAK,IAAK;UACzB,MAAM;YAAEC;UAAe,CAAC,GAAGD,KAAK;UAChC,IAAIC,cAAc,EAAE;YAClBP,WAAW,CAAC,IAAI,CAAC;YACjBC,QAAQ,CAACO,UAAU,EAAE;UACvB;QACF,CAAC,CAAC;MACJ,CAAC,EAAEtB,eAAe,CAAC;MACnBe,QAAQ,CAACQ,OAAO,CAACX,MAAM,CAACI,OAAO,CAAC;IAClC;IAEA,OAAO,MAAM;MACX,IAAID,QAAQ,EAAE;QACZA,QAAQ,CAACO,UAAU,EAAE;MACvB;IACF,CAAC;EACH,CAAC,EAAE,CAACf,GAAG,CAAC,CAAC;EAET,oBACE,QAAC,OAAO;IAAC,GAAG,EAAEK,MAAO;IAAC,MAAM,EAAEF,MAAO;IAAC,KAAK,EAAED,KAAM;IAAA,GAAKE,KAAK;IAAA,UAC1DE,QAAQ,gBAAG,QAAC,WAAW;MAAC,GAAG,EAAEN,GAAI;MAAC,GAAG,EAAEC;IAAI;MAAA;MAAA;MAAA;IAAA,QAAG,gBAAG,QAAC,WAAW;MAAA;MAAA;MAAA;IAAA;EAAG;IAAA;IAAA;IAAA;EAAA,QACzD;AAEd,CAAC;AAED,eAAeF,KAAK"},"metadata":{},"sourceType":"module"}