{"ast":null,"code":"import _objectSpread from\"/Users/namratapatel/upwork/SmartFinance-OmniDex/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/Users/namratapatel/upwork/SmartFinance-OmniDex/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _taggedTemplateLiteral from\"/Users/namratapatel/upwork/SmartFinance-OmniDex/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";const _excluded=[\"toast\",\"onRemove\",\"style\",\"ttl\"];var _templateObject;import React,{useCallback,useEffect,useRef}from\"react\";import{CSSTransition}from\"react-transition-group\";import styled from\"styled-components\";import{Alert,alertVariants}from\"../../components/Alert\";import{types}from\"./types\";import{jsx as _jsx}from\"react/jsx-runtime\";const alertTypeMap={[types.INFO]:alertVariants.INFO,[types.SUCCESS]:alertVariants.SUCCESS,[types.DANGER]:alertVariants.DANGER,[types.WARNING]:alertVariants.WARNING};const StyledToast=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  right: 16px;\\n  position: fixed;\\n  max-width: calc(100% - 32px);\\n  transition: all 250ms ease-in;\\n  width: 100%;\\n\\n  \",\" {\\n    max-width: 400px;\\n  }\\n\"])),_ref=>{let{theme}=_ref;return theme.mediaQueries.sm;});const Toast=_ref2=>{let{toast,onRemove,style,ttl}=_ref2,props=_objectWithoutProperties(_ref2,_excluded);const timer=useRef();const ref=useRef(null);const removeHandler=useRef(onRemove);const{id,title,description,type}=toast;const handleRemove=useCallback(()=>removeHandler.current(id),[id,removeHandler]);const handleMouseEnter=()=>{clearTimeout(timer.current);};const handleMouseLeave=()=>{if(timer.current){clearTimeout(timer.current);}timer.current=window.setTimeout(()=>{handleRemove();},ttl);};useEffect(()=>{if(timer.current){clearTimeout(timer.current);}timer.current=window.setTimeout(()=>{handleRemove();},ttl);return()=>{clearTimeout(timer.current);};},[timer,ttl,handleRemove]);return/*#__PURE__*/_jsx(CSSTransition,_objectSpread(_objectSpread({nodeRef:ref,timeout:250,style:style},props),{},{children:/*#__PURE__*/_jsx(StyledToast,{ref:ref,onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:/*#__PURE__*/_jsx(Alert,{title:title,variant:alertTypeMap[type],onClick:handleRemove,children:description})})}));};export default Toast;","map":{"version":3,"names":["React","useCallback","useEffect","useRef","CSSTransition","styled","Alert","alertVariants","types","jsx","_jsx","alertTypeMap","INFO","SUCCESS","DANGER","WARNING","StyledToast","div","_templateObject","_taggedTemplateLiteral","_ref","theme","mediaQueries","sm","Toast","_ref2","toast","onRemove","style","ttl","props","_objectWithoutProperties","_excluded","timer","ref","removeHandler","id","title","description","type","handleRemove","current","handleMouseEnter","clearTimeout","handleMouseLeave","window","setTimeout","_objectSpread","nodeRef","timeout","children","onMouseEnter","onMouseLeave","variant","onClick"],"sources":["/Users/namratapatel/upwork/SmartFinance-OmniDex/src/uikit/widgets/Toast/Toast.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useRef } from \"react\";\nimport { CSSTransition } from \"react-transition-group\";\nimport styled from \"styled-components\";\nimport { Alert, alertVariants } from \"../../components/Alert\";\nimport { ToastProps, types } from \"./types\";\n\nconst alertTypeMap = {\n  [types.INFO]: alertVariants.INFO,\n  [types.SUCCESS]: alertVariants.SUCCESS,\n  [types.DANGER]: alertVariants.DANGER,\n  [types.WARNING]: alertVariants.WARNING,\n};\n\nconst StyledToast = styled.div`\n  right: 16px;\n  position: fixed;\n  max-width: calc(100% - 32px);\n  transition: all 250ms ease-in;\n  width: 100%;\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    max-width: 400px;\n  }\n`;\n\nconst Toast: React.FC<ToastProps> = ({ toast, onRemove, style, ttl, ...props }) => {\n  const timer = useRef<number>();\n  const ref = useRef(null);\n  const removeHandler = useRef(onRemove);\n  const { id, title, description, type } = toast;\n\n  const handleRemove = useCallback(() => removeHandler.current(id), [id, removeHandler]);\n\n  const handleMouseEnter = () => {\n    clearTimeout(timer.current);\n  };\n\n  const handleMouseLeave = () => {\n    if (timer.current) {\n      clearTimeout(timer.current);\n    }\n\n    timer.current = window.setTimeout(() => {\n      handleRemove();\n    }, ttl);\n  };\n\n  useEffect(() => {\n    if (timer.current) {\n      clearTimeout(timer.current);\n    }\n\n    timer.current = window.setTimeout(() => {\n      handleRemove();\n    }, ttl);\n\n    return () => {\n      clearTimeout(timer.current);\n    };\n  }, [timer, ttl, handleRemove]);\n\n  return (\n    <CSSTransition nodeRef={ref} timeout={250} style={style} {...props}>\n      <StyledToast ref={ref} onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n        <Alert title={title} variant={alertTypeMap[type]} onClick={handleRemove}>\n          {description}\n        </Alert>\n      </StyledToast>\n    </CSSTransition>\n  );\n};\n\nexport default Toast;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}