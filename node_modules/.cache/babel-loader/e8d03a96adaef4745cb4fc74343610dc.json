{"ast":null,"code":"import _objectSpread from\"/Users/namratapatel/upwork/SmartFinance-OmniDex/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from'@reduxjs/toolkit';import getProfile from'./getProfile';const initialState={isInitialized:false,isLoading:true,hasRegistered:false,data:null};export const profileSlice=createSlice({name:'profile',initialState,reducers:{profileFetchStart:state=>{state.isLoading=true;},profileFetchSucceeded:(_state,action)=>{const{profile,hasRegistered}=action.payload;return{isInitialized:true,isLoading:false,hasRegistered,data:profile};},profileFetchFailed:state=>{state.isLoading=false;state.isInitialized=true;},profileClear:()=>_objectSpread(_objectSpread({},initialState),{},{isLoading:false}),addPoints:(state,action)=>{state.data.points+=action.payload;}}});// Actions\nexport const{profileFetchStart,profileFetchSucceeded,profileFetchFailed,profileClear,addPoints}=profileSlice.actions;// Thunks\n// TODO: this should be an AsyncThunk\nexport const fetchProfile=address=>async dispatch=>{try{dispatch(profileFetchStart());const response=await getProfile(address);dispatch(profileFetchSucceeded(response));}catch(error){dispatch(profileFetchFailed());}};export default profileSlice.reducer;","map":{"version":3,"names":["createSlice","getProfile","initialState","isInitialized","isLoading","hasRegistered","data","profileSlice","name","reducers","profileFetchStart","state","profileFetchSucceeded","_state","action","profile","payload","profileFetchFailed","profileClear","_objectSpread","addPoints","points","actions","fetchProfile","address","dispatch","response","error","reducer"],"sources":["/Users/namratapatel/upwork/SmartFinance-OmniDex/src/state/profile/index.tsx"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { ProfileState } from 'state/types'\nimport type { AppDispatch } from 'state'\nimport getProfile, { GetProfileResponse } from './getProfile'\n\nconst initialState: ProfileState = {\n  isInitialized: false,\n  isLoading: true,\n  hasRegistered: false,\n  data: null,\n}\n\nexport const profileSlice = createSlice({\n  name: 'profile',\n  initialState,\n  reducers: {\n    profileFetchStart: (state) => {\n      state.isLoading = true\n    },\n    profileFetchSucceeded: (_state, action: PayloadAction<GetProfileResponse>) => {\n      const { profile, hasRegistered } = action.payload\n\n      return {\n        isInitialized: true,\n        isLoading: false,\n        hasRegistered,\n        data: profile,\n      }\n    },\n    profileFetchFailed: (state) => {\n      state.isLoading = false\n      state.isInitialized = true\n    },\n    profileClear: () => ({\n      ...initialState,\n      isLoading: false,\n    }),\n    addPoints: (state, action: PayloadAction<number>) => {\n      state.data.points += action.payload\n    },\n  },\n})\n\n// Actions\nexport const { profileFetchStart, profileFetchSucceeded, profileFetchFailed, profileClear, addPoints } =\n  profileSlice.actions\n\n// Thunks\n// TODO: this should be an AsyncThunk\nexport const fetchProfile = (address: string) => async (dispatch: AppDispatch) => {\n  try {\n    dispatch(profileFetchStart())\n    const response = await getProfile(address)\n    dispatch(profileFetchSucceeded(response))\n  } catch (error) {\n    dispatch(profileFetchFailed())\n  }\n}\n\nexport default profileSlice.reducer\n"],"mappings":"oIAAA,OAASA,WAAW,KAAuB,kBAAkB,CAG7D,MAAO,CAAAC,UAAU,KAA8B,cAAc,CAE7D,KAAM,CAAAC,YAA0B,CAAG,CACjCC,aAAa,CAAE,KAAK,CACpBC,SAAS,CAAE,IAAI,CACfC,aAAa,CAAE,KAAK,CACpBC,IAAI,CAAE,IACR,CAAC,CAED,MAAO,MAAM,CAAAC,YAAY,CAAGP,WAAW,CAAC,CACtCQ,IAAI,CAAE,SAAS,CACfN,YAAY,CACZO,QAAQ,CAAE,CACRC,iBAAiB,CAAGC,KAAK,EAAK,CAC5BA,KAAK,CAACP,SAAS,CAAG,IAAI,CACxB,CAAC,CACDQ,qBAAqB,CAAEA,CAACC,MAAM,CAAEC,MAAyC,GAAK,CAC5E,KAAM,CAAEC,OAAO,CAAEV,aAAc,CAAC,CAAGS,MAAM,CAACE,OAAO,CAEjD,MAAO,CACLb,aAAa,CAAE,IAAI,CACnBC,SAAS,CAAE,KAAK,CAChBC,aAAa,CACbC,IAAI,CAAES,OACR,CAAC,CACH,CAAC,CACDE,kBAAkB,CAAGN,KAAK,EAAK,CAC7BA,KAAK,CAACP,SAAS,CAAG,KAAK,CACvBO,KAAK,CAACR,aAAa,CAAG,IAAI,CAC5B,CAAC,CACDe,YAAY,CAAEA,CAAA,GAAAC,aAAA,CAAAA,aAAA,IACTjB,YAAY,MACfE,SAAS,CAAE,KAAK,EAChB,CACFgB,SAAS,CAAEA,CAACT,KAAK,CAAEG,MAA6B,GAAK,CACnDH,KAAK,CAACL,IAAI,CAACe,MAAM,EAAIP,MAAM,CAACE,OAAO,CACrC,CACF,CACF,CAAC,CAAC,CAEF;AACA,MAAO,MAAM,CAAEN,iBAAiB,CAAEE,qBAAqB,CAAEK,kBAAkB,CAAEC,YAAY,CAAEE,SAAU,CAAC,CACpGb,YAAY,CAACe,OAAO,CAEtB;AACA;AACA,MAAO,MAAM,CAAAC,YAAY,CAAIC,OAAe,EAAK,KAAO,CAAAC,QAAqB,EAAK,CAChF,GAAI,CACFA,QAAQ,CAACf,iBAAiB,CAAC,CAAC,CAAC,CAC7B,KAAM,CAAAgB,QAAQ,CAAG,KAAM,CAAAzB,UAAU,CAACuB,OAAO,CAAC,CAC1CC,QAAQ,CAACb,qBAAqB,CAACc,QAAQ,CAAC,CAAC,CAC3C,CAAE,MAAOC,KAAK,CAAE,CACdF,QAAQ,CAACR,kBAAkB,CAAC,CAAC,CAAC,CAChC,CACF,CAAC,CAED,cAAe,CAAAV,YAAY,CAACqB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}