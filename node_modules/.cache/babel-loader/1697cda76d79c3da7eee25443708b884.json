{"ast":null,"code":"import { useEffect, useState } from \"react\";\nimport { breakpointMap } from \"../theme/base\";\n/**\n * Can't use the media queries from \"base.mediaQueries\" because of how matchMedia works\n * In order for the listener to trigger we need have have the media query with a range, e.g.\n * (min-width: 370px) and (max-width: 576px)\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MediaQueryList\n */\nconst mediaQueries = (() => {\n  let prevMinWidth = 0;\n  return Object.keys(breakpointMap).reduce((accum, size, index) => {\n    // Largest size is just a min-width of second highest max-width\n    if (index === Object.keys(breakpointMap).length - 1) {\n      return {\n        ...accum,\n        [size]: `(min-width: ${prevMinWidth}px)`\n      };\n    }\n    const minWidth = prevMinWidth;\n    const breakpoint = breakpointMap[size];\n\n    // Min width for next iteration\n    prevMinWidth = breakpoint + 1;\n    return {\n      ...accum,\n      [size]: `(min-width: ${minWidth}px) and (max-width: ${breakpoint}px)`\n    };\n  }, {});\n})();\nconst getKey = size => `is${size.charAt(0).toUpperCase()}${size.slice(1)}`;\nconst useMatchBreakpoints = () => {\n  const [state, setState] = useState(() => {\n    return Object.keys(mediaQueries).reduce((accum, size) => {\n      const key = getKey(size);\n      const mql = window.matchMedia(mediaQueries[size]);\n      return {\n        ...accum,\n        [key]: mql.matches\n      };\n    }, {});\n  });\n  useEffect(() => {\n    // Create listeners for each media query returning a function to unsubscribe\n    const handlers = Object.keys(mediaQueries).map(size => {\n      const mql = window.matchMedia(mediaQueries[size]);\n      const handler = matchMediaQuery => {\n        const key = getKey(size);\n        setState(prevState => ({\n          ...prevState,\n          [key]: matchMediaQuery.matches\n        }));\n      };\n\n      // Safari < 14 fix\n      if (mql.addEventListener) {\n        mql.addEventListener(\"change\", handler);\n      }\n      return () => {\n        // Safari < 14 fix\n        if (mql.removeEventListener) {\n          mql.removeEventListener(\"change\", handler);\n        }\n      };\n    });\n    return () => {\n      handlers.forEach(unsubscribe => {\n        unsubscribe();\n      });\n    };\n  }, [setState]);\n  return state;\n};\nexport default useMatchBreakpoints;","map":{"version":3,"names":["useEffect","useState","breakpointMap","mediaQueries","prevMinWidth","Object","keys","reduce","accum","size","index","length","minWidth","breakpoint","getKey","charAt","toUpperCase","slice","useMatchBreakpoints","state","setState","key","mql","window","matchMedia","matches","handlers","map","handler","matchMediaQuery","prevState","addEventListener","removeEventListener","forEach","unsubscribe"],"sources":["/Users/namratapatel/upwork/SmartFinance-OmniDex/src/uikit/hooks/useMatchBreakpoints.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { breakpointMap } from \"../theme/base\";\n\ntype State = {\n  [key: string]: boolean;\n};\n\ntype MediaQueries = {\n  [key: string]: string;\n};\n\n/**\n * Can't use the media queries from \"base.mediaQueries\" because of how matchMedia works\n * In order for the listener to trigger we need have have the media query with a range, e.g.\n * (min-width: 370px) and (max-width: 576px)\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MediaQueryList\n */\nconst mediaQueries: MediaQueries = (() => {\n  let prevMinWidth = 0;\n\n  return Object.keys(breakpointMap).reduce((accum, size, index) => {\n    // Largest size is just a min-width of second highest max-width\n    if (index === Object.keys(breakpointMap).length - 1) {\n      return { ...accum, [size]: `(min-width: ${prevMinWidth}px)` };\n    }\n\n    const minWidth = prevMinWidth;\n    const breakpoint = breakpointMap[size];\n\n    // Min width for next iteration\n    prevMinWidth = breakpoint + 1;\n\n    return { ...accum, [size]: `(min-width: ${minWidth}px) and (max-width: ${breakpoint}px)` };\n  }, {});\n})();\n\nconst getKey = (size: string) => `is${size.charAt(0).toUpperCase()}${size.slice(1)}`;\n\nconst useMatchBreakpoints = (): State => {\n  const [state, setState] = useState<State>(() => {\n    return Object.keys(mediaQueries).reduce((accum, size) => {\n      const key = getKey(size);\n      const mql = window.matchMedia(mediaQueries[size]);\n      return { ...accum, [key]: mql.matches };\n    }, {});\n  });\n\n  useEffect(() => {\n    // Create listeners for each media query returning a function to unsubscribe\n    const handlers = Object.keys(mediaQueries).map((size) => {\n      const mql = window.matchMedia(mediaQueries[size]);\n\n      const handler = (matchMediaQuery: MediaQueryListEvent) => {\n        const key = getKey(size);\n        setState((prevState) => ({\n          ...prevState,\n          [key]: matchMediaQuery.matches,\n        }));\n      };\n\n      // Safari < 14 fix\n      if (mql.addEventListener) {\n        mql.addEventListener(\"change\", handler);\n      }\n\n      return () => {\n        // Safari < 14 fix\n        if (mql.removeEventListener) {\n          mql.removeEventListener(\"change\", handler);\n        }\n      };\n    });\n\n    return () => {\n      handlers.forEach((unsubscribe) => {\n        unsubscribe();\n      });\n    };\n  }, [setState]);\n\n  return state;\n};\n\nexport default useMatchBreakpoints;\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,aAAa,QAAQ,eAAe;AAU7C;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,YAA0B,GAAG,CAAC,MAAM;EACxC,IAAIC,YAAY,GAAG,CAAC;EAEpB,OAAOC,MAAM,CAACC,IAAI,CAACJ,aAAa,CAAC,CAACK,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,EAAEC,KAAK,KAAK;IAC/D;IACA,IAAIA,KAAK,KAAKL,MAAM,CAACC,IAAI,CAACJ,aAAa,CAAC,CAACS,MAAM,GAAG,CAAC,EAAE;MACnD,OAAO;QAAE,GAAGH,KAAK;QAAE,CAACC,IAAI,GAAG,eAAeL,YAAY;MAAM,CAAC;IAC/D;IAEA,MAAMQ,QAAQ,GAAGR,YAAY;IAC7B,MAAMS,UAAU,GAAGX,aAAa,CAACO,IAAI,CAAC;;IAEtC;IACAL,YAAY,GAAGS,UAAU,GAAG,CAAC;IAE7B,OAAO;MAAE,GAAGL,KAAK;MAAE,CAACC,IAAI,GAAG,eAAeG,QAAQ,uBAAuBC,UAAU;IAAM,CAAC;EAC5F,CAAC,EAAE,CAAC,CAAC,CAAC;AACR,CAAC,EAAE,CAAC;AAEJ,MAAMC,MAAM,GAAIL,IAAY,IAAK,KAAKA,IAAI,CAACM,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGP,IAAI,CAACQ,KAAK,CAAC,CAAC,CAAC,EAAE;AAEpF,MAAMC,mBAAmB,GAAGA,CAAA,KAAa;EACvC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAQ,MAAM;IAC9C,OAAOI,MAAM,CAACC,IAAI,CAACH,YAAY,CAAC,CAACI,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAK;MACvD,MAAMY,GAAG,GAAGP,MAAM,CAACL,IAAI,CAAC;MACxB,MAAMa,GAAG,GAAGC,MAAM,CAACC,UAAU,CAACrB,YAAY,CAACM,IAAI,CAAC,CAAC;MACjD,OAAO;QAAE,GAAGD,KAAK;QAAE,CAACa,GAAG,GAAGC,GAAG,CAACG;MAAQ,CAAC;IACzC,CAAC,EAAE,CAAC,CAAC,CAAC;EACR,CAAC,CAAC;EAEFzB,SAAS,CAAC,MAAM;IACd;IACA,MAAM0B,QAAQ,GAAGrB,MAAM,CAACC,IAAI,CAACH,YAAY,CAAC,CAACwB,GAAG,CAAElB,IAAI,IAAK;MACvD,MAAMa,GAAG,GAAGC,MAAM,CAACC,UAAU,CAACrB,YAAY,CAACM,IAAI,CAAC,CAAC;MAEjD,MAAMmB,OAAO,GAAIC,eAAoC,IAAK;QACxD,MAAMR,GAAG,GAAGP,MAAM,CAACL,IAAI,CAAC;QACxBW,QAAQ,CAAEU,SAAS,KAAM;UACvB,GAAGA,SAAS;UACZ,CAACT,GAAG,GAAGQ,eAAe,CAACJ;QACzB,CAAC,CAAC,CAAC;MACL,CAAC;;MAED;MACA,IAAIH,GAAG,CAACS,gBAAgB,EAAE;QACxBT,GAAG,CAACS,gBAAgB,CAAC,QAAQ,EAAEH,OAAO,CAAC;MACzC;MAEA,OAAO,MAAM;QACX;QACA,IAAIN,GAAG,CAACU,mBAAmB,EAAE;UAC3BV,GAAG,CAACU,mBAAmB,CAAC,QAAQ,EAAEJ,OAAO,CAAC;QAC5C;MACF,CAAC;IACH,CAAC,CAAC;IAEF,OAAO,MAAM;MACXF,QAAQ,CAACO,OAAO,CAAEC,WAAW,IAAK;QAChCA,WAAW,CAAC,CAAC;MACf,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,EAAE,CAACd,QAAQ,CAAC,CAAC;EAEd,OAAOD,KAAK;AACd,CAAC;AAED,eAAeD,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module"}