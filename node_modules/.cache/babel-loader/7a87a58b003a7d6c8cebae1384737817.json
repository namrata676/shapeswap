{"ast":null,"code":"import _objectSpread from\"/Users/namratapatel/upwork/SmartFinance-OmniDex/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from\"react\";import{breakpointMap}from\"../theme/base\";/**\n * Can't use the media queries from \"base.mediaQueries\" because of how matchMedia works\n * In order for the listener to trigger we need have have the media query with a range, e.g.\n * (min-width: 370px) and (max-width: 576px)\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MediaQueryList\n */const mediaQueries=(()=>{let prevMinWidth=0;return Object.keys(breakpointMap).reduce((accum,size,index)=>{// Largest size is just a min-width of second highest max-width\nif(index===Object.keys(breakpointMap).length-1){return _objectSpread(_objectSpread({},accum),{},{[size]:\"(min-width: \".concat(prevMinWidth,\"px)\")});}const minWidth=prevMinWidth;const breakpoint=breakpointMap[size];// Min width for next iteration\nprevMinWidth=breakpoint+1;return _objectSpread(_objectSpread({},accum),{},{[size]:\"(min-width: \".concat(minWidth,\"px) and (max-width: \").concat(breakpoint,\"px)\")});},{});})();const getKey=size=>\"is\".concat(size.charAt(0).toUpperCase()).concat(size.slice(1));const useMatchBreakpoints=()=>{const[state,setState]=useState(()=>{return Object.keys(mediaQueries).reduce((accum,size)=>{const key=getKey(size);const mql=window.matchMedia(mediaQueries[size]);return _objectSpread(_objectSpread({},accum),{},{[key]:mql.matches});},{});});useEffect(()=>{// Create listeners for each media query returning a function to unsubscribe\nconst handlers=Object.keys(mediaQueries).map(size=>{const mql=window.matchMedia(mediaQueries[size]);const handler=matchMediaQuery=>{const key=getKey(size);setState(prevState=>_objectSpread(_objectSpread({},prevState),{},{[key]:matchMediaQuery.matches}));};// Safari < 14 fix\nif(mql.addEventListener){mql.addEventListener(\"change\",handler);}return()=>{// Safari < 14 fix\nif(mql.removeEventListener){mql.removeEventListener(\"change\",handler);}};});return()=>{handlers.forEach(unsubscribe=>{unsubscribe();});};},[setState]);return state;};export default useMatchBreakpoints;","map":{"version":3,"names":["useEffect","useState","breakpointMap","mediaQueries","prevMinWidth","Object","keys","reduce","accum","size","index","length","_objectSpread","concat","minWidth","breakpoint","getKey","charAt","toUpperCase","slice","useMatchBreakpoints","state","setState","key","mql","window","matchMedia","matches","handlers","map","handler","matchMediaQuery","prevState","addEventListener","removeEventListener","forEach","unsubscribe"],"sources":["/Users/namratapatel/upwork/SmartFinance-OmniDex/src/toolkit/uikit/hooks/useMatchBreakpoints.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { breakpointMap } from \"../theme/base\";\n\ntype State = {\n  [key: string]: boolean;\n};\n\ntype MediaQueries = {\n  [key: string]: string;\n};\n\n/**\n * Can't use the media queries from \"base.mediaQueries\" because of how matchMedia works\n * In order for the listener to trigger we need have have the media query with a range, e.g.\n * (min-width: 370px) and (max-width: 576px)\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MediaQueryList\n */\nconst mediaQueries: MediaQueries = (() => {\n  let prevMinWidth = 0;\n\n  return Object.keys(breakpointMap).reduce((accum, size, index) => {\n    // Largest size is just a min-width of second highest max-width\n    if (index === Object.keys(breakpointMap).length - 1) {\n      return { ...accum, [size]: `(min-width: ${prevMinWidth}px)` };\n    }\n\n    const minWidth = prevMinWidth;\n    const breakpoint = breakpointMap[size];\n\n    // Min width for next iteration\n    prevMinWidth = breakpoint + 1;\n\n    return { ...accum, [size]: `(min-width: ${minWidth}px) and (max-width: ${breakpoint}px)` };\n  }, {});\n})();\n\nconst getKey = (size: string) => `is${size.charAt(0).toUpperCase()}${size.slice(1)}`;\n\nconst useMatchBreakpoints = (): State => {\n  const [state, setState] = useState<State>(() => {\n    return Object.keys(mediaQueries).reduce((accum, size) => {\n      const key = getKey(size);\n      const mql = window.matchMedia(mediaQueries[size]);\n      return { ...accum, [key]: mql.matches };\n    }, {});\n  });\n\n  useEffect(() => {\n    // Create listeners for each media query returning a function to unsubscribe\n    const handlers = Object.keys(mediaQueries).map((size) => {\n      const mql = window.matchMedia(mediaQueries[size]);\n\n      const handler = (matchMediaQuery: MediaQueryListEvent) => {\n        const key = getKey(size);\n        setState((prevState) => ({\n          ...prevState,\n          [key]: matchMediaQuery.matches,\n        }));\n      };\n\n      // Safari < 14 fix\n      if (mql.addEventListener) {\n        mql.addEventListener(\"change\", handler);\n      }\n\n      return () => {\n        // Safari < 14 fix\n        if (mql.removeEventListener) {\n          mql.removeEventListener(\"change\", handler);\n        }\n      };\n    });\n\n    return () => {\n      handlers.forEach((unsubscribe) => {\n        unsubscribe();\n      });\n    };\n  }, [setState]);\n\n  return state;\n};\n\nexport default useMatchBreakpoints;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}