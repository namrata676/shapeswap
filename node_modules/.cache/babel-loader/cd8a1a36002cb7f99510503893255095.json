{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/namratapatel/upwork/SmartFinance-OmniDex/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useState,useEffect,useRef}from'react';import styled from'styled-components';import throttle from'lodash/throttle';import Overlay from'../../components/Overlay/Overlay';import Flex from'../../components/Box/Flex';import{useMatchBreakpoints}from'../../hooks';import Logo from'./components/Logo';import UserBlock from'./components/UserBlock';import{MENU_HEIGHT,SIDEBAR_WIDTH_FULL}from'./config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 100%;  \\n  overflow-y: auto;\\n  \\n  \\n\"])));const StyledNav=styled.nav(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: \",\";\\n  left: 0;\\n  transition: top 0.2s;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding-left: 8px;\\n  padding-right: 16px;\\n  width: 100%;\\n  height: \",\"px;\\n  background-color: #FFFFFF;\\n  \\n  {/* background-image: linear-gradient(#051234, #040e2a); */} \\n  background-color: transparent;\\n  {/* border-bottom: solid 2px rgba(133, 133, 133, 0.1); */}\\n  z-index: 20;\\n  transform: translate3d(0, 0, 0);\\n\"])),_ref=>{let{showMenu}=_ref;return showMenu?0:\"-\".concat(MENU_HEIGHT,\"px\");},MENU_HEIGHT);const BodyWrapper=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  position: relative;\\n  display: flex;\\n  background-color:  #2C3338;\\n  background-image: #2C3338;\\n  background-repeat: no-repeat;\\n  background-size: cover;\\nbackground-position: center;   \\n  justify-content: center !important;\\n  align-items: center !important;\\n  height:100vh !important;\\n\"])));const Inner=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  flex-grow: 1;\\n  margin-top: \",\";\\n  transition: margin-top 0.2s, margin-left 0.2s cubic-bezier(0.4, 0, 0.2, 1);\\n  transform: translate3d(0, 0, 0);\\n  max-width: 100%;\\n\\n  \",\" {\\n  \\n   max-width: \",\";\\n  }\\n\"])),_ref2=>{let{showMenu}=_ref2;return showMenu?\"\".concat(MENU_HEIGHT,\"px\"):0;},_ref3=>{let{theme}=_ref3;return theme.mediaQueries.nav;},_ref4=>{let{isPushed}=_ref4;return\"calc(100% - \".concat(isPushed?SIDEBAR_WIDTH_FULL:SIDEBAR_WIDTH_FULL,\"px)\");});// margin-left: ${({ isPushed }) => `${isPushed ? SIDEBAR_WIDTH_FULL : SIDEBAR_WIDTH_REDUCED}px`};\n// max-width: ${({ isPushed }) => `calc(100% - ${isPushed ? SIDEBAR_WIDTH_FULL : SIDEBAR_WIDTH_REDUCED}px)`};\nconst MobileOnlyOverlay=styled(Overlay)(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  height: 100%;\\n\\n  \",\" {\\n    display: none;\\n  }\\n\"])),_ref5=>{let{theme}=_ref5;return theme.mediaQueries.nav;});const LanguageWrapper=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  margin-top: 0;\\n\"])));const Menu=_ref6=>{var _homeLink$href;let{account,login,logout,isDark,toggleTheme,langs,setLang,currentLang,cakePriceUsd,links,profile,children}=_ref6;const{isXl}=useMatchBreakpoints();const isMobile=isXl===false;const[isPushed,setIsPushed]=useState(!isMobile);const[showMenu,setShowMenu]=useState(true);const refPrevOffset=useRef(window.pageYOffset);const{username='Anne'}=profile;useEffect(()=>{const handleScroll=()=>{const currentOffset=window.pageYOffset;const isBottomOfPage=window.document.body.clientHeight===currentOffset+window.innerHeight;const isTopOfPage=currentOffset===0;// Always show the menu when user reach the top\nif(isTopOfPage){setShowMenu(true);}// Avoid triggering anything at the bottom because of layout shift\nelse if(!isBottomOfPage){if(currentOffset<refPrevOffset.current){// Has scroll up\nsetShowMenu(true);}else{// Has scroll down\nsetShowMenu(false);}}refPrevOffset.current=currentOffset;};const throttledHandleScroll=throttle(handleScroll,200);window.addEventListener('scroll',throttledHandleScroll);return()=>{window.removeEventListener('scroll',throttledHandleScroll);};},[]);// Find the home link if provided\nconst homeLink=links.find(link=>link.label==='Home');return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsxs(StyledNav,{showMenu:showMenu,children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-row justify-content-between\",children:/*#__PURE__*/_jsx(Logo,{isPushed:isPushed,togglePush:()=>setIsPushed(prevState=>!prevState)// isDark={isDark}\n,href:(_homeLink$href=homeLink===null||homeLink===void 0?void 0:homeLink.href)!==null&&_homeLink$href!==void 0?_homeLink$href:'/'})}),!!login&&!!logout&&/*#__PURE__*/_jsx(Flex,{alignItems:\"center\",children:/*#__PURE__*/_jsx(UserBlock,{account:account,login:login,logout:logout})})]}),/*#__PURE__*/_jsxs(BodyWrapper,{children:[/*#__PURE__*/_jsx(Inner,{isPushed:isPushed,showMenu:showMenu,children:children}),/*#__PURE__*/_jsx(MobileOnlyOverlay,{show:isPushed,onClick:()=>setIsPushed(false),role:\"presentation\"})]})]});};export default Menu;","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","throttle","Overlay","Flex","useMatchBreakpoints","Logo","UserBlock","MENU_HEIGHT","SIDEBAR_WIDTH_FULL","jsx","_jsx","jsxs","_jsxs","Wrapper","div","_templateObject","_taggedTemplateLiteral","StyledNav","nav","_templateObject2","_ref","showMenu","concat","BodyWrapper","_templateObject3","Inner","_templateObject4","_ref2","_ref3","theme","mediaQueries","_ref4","isPushed","MobileOnlyOverlay","_templateObject5","_ref5","LanguageWrapper","_templateObject6","Menu","_ref6","_homeLink$href","account","login","logout","isDark","toggleTheme","langs","setLang","currentLang","cakePriceUsd","links","profile","children","isXl","isMobile","setIsPushed","setShowMenu","refPrevOffset","window","pageYOffset","username","handleScroll","currentOffset","isBottomOfPage","document","body","clientHeight","innerHeight","isTopOfPage","current","throttledHandleScroll","addEventListener","removeEventListener","homeLink","find","link","label","className","togglePush","prevState","href","alignItems","show","onClick","role"],"sources":["/Users/namratapatel/upwork/SmartFinance-OmniDex/src/toolkit/uikit/widgets/Menu/Menu.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport styled from 'styled-components'\nimport throttle from 'lodash/throttle'\nimport { Text } from 'toolkit/uikit'\nimport Overlay from '../../components/Overlay/Overlay'\nimport Flex from '../../components/Box/Flex'\nimport { useMatchBreakpoints } from '../../hooks'\nimport Logo from './components/Logo'\nimport Panel from './components/Panel'\nimport UserBlock from './components/UserBlock'\nimport { NavProps } from './types'\nimport Avatar from './components/Avatar'\nimport { MENU_HEIGHT, SIDEBAR_WIDTH_REDUCED, SIDEBAR_WIDTH_FULL } from './config'\nimport Select, { OptionProps } from './components/Select'\nimport LangSelector from './components/LangSelector'\n\nconst Wrapper = styled.div`\n  position: relative;\n  width: 100%;  \n  overflow-y: auto;\n  \n  \n`\n\nconst StyledNav = styled.nav<{ showMenu: boolean }>`\n  position: fixed;\n  top: ${({ showMenu }) => (showMenu ? 0 : `-${MENU_HEIGHT}px`)};\n  left: 0;\n  transition: top 0.2s;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 8px;\n  padding-right: 16px;\n  width: 100%;\n  height: ${MENU_HEIGHT}px;\n  background-color: #FFFFFF;\n  \n  {/* background-image: linear-gradient(#051234, #040e2a); */} \n  background-color: transparent;\n  {/* border-bottom: solid 2px rgba(133, 133, 133, 0.1); */}\n  z-index: 20;\n  transform: translate3d(0, 0, 0);\n`\n\nconst BodyWrapper = styled.div`\n  position: relative;\n  display: flex;\n  background-color:  #2C3338;\n  background-image: #2C3338;\n  background-repeat: no-repeat;\n  background-size: cover;\nbackground-position: center;   \n  justify-content: center !important;\n  align-items: center !important;\n  height:100vh !important;\n`\n\nconst Inner = styled.div<{ isPushed: boolean; showMenu: boolean }>`\n  flex-grow: 1;\n  margin-top: ${({ showMenu }) => (showMenu ? `${MENU_HEIGHT}px` : 0)};\n  transition: margin-top 0.2s, margin-left 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  transform: translate3d(0, 0, 0);\n  max-width: 100%;\n\n  ${({ theme }) => theme.mediaQueries.nav} {\n  \n   max-width: ${({ isPushed }) => `calc(100% - ${isPushed ? SIDEBAR_WIDTH_FULL : SIDEBAR_WIDTH_FULL}px)`};\n  }\n`\n\n// margin-left: ${({ isPushed }) => `${isPushed ? SIDEBAR_WIDTH_FULL : SIDEBAR_WIDTH_REDUCED}px`};\n    // max-width: ${({ isPushed }) => `calc(100% - ${isPushed ? SIDEBAR_WIDTH_FULL : SIDEBAR_WIDTH_REDUCED}px)`};\n\nconst MobileOnlyOverlay = styled(Overlay)`\n  position: fixed;\n  height: 100%;\n\n  ${({ theme }) => theme.mediaQueries.nav} {\n    display: none;\n  }\n`\n\nconst LanguageWrapper = styled.div`\n  margin-top: 0;\n`\n\n\nconst Menu: React.FC<NavProps> = ({\n  account,\n  login,\n  logout,\n  isDark,\n  toggleTheme,\n  langs,\n  setLang,\n  currentLang,\n  cakePriceUsd,\n  links,\n  profile,\n  children,\n}) => {\n  const { isXl } = useMatchBreakpoints()\n  const isMobile = isXl === false\n  const [isPushed, setIsPushed] = useState(!isMobile)\n  const [showMenu, setShowMenu] = useState(true)\n  const refPrevOffset = useRef(window.pageYOffset)\n  const { username = 'Anne' } = profile\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const currentOffset = window.pageYOffset\n      const isBottomOfPage = window.document.body.clientHeight === currentOffset + window.innerHeight\n      const isTopOfPage = currentOffset === 0\n      // Always show the menu when user reach the top\n      if (isTopOfPage) {\n        setShowMenu(true)\n      }\n      // Avoid triggering anything at the bottom because of layout shift\n      else if (!isBottomOfPage) {\n        if (currentOffset < refPrevOffset.current) {\n          // Has scroll up\n          setShowMenu(true)\n        } else {\n          // Has scroll down\n          setShowMenu(false)\n        }\n      }\n      refPrevOffset.current = currentOffset\n    }\n    const throttledHandleScroll = throttle(handleScroll, 200)\n\n    window.addEventListener('scroll', throttledHandleScroll)\n    return () => {\n      window.removeEventListener('scroll', throttledHandleScroll)\n    }\n  }, [])\n\n  // Find the home link if provided\n  const homeLink = links.find((link) => link.label === 'Home')\n\n  return (\n    <Wrapper>\n      <StyledNav showMenu={showMenu}>\n        <div className='d-flex flex-row justify-content-between'>\n        <Logo\n          isPushed={isPushed}\n          togglePush={() => setIsPushed((prevState: boolean) => !prevState)}\n          // isDark={isDark}\n          href={homeLink?.href ?? '/'}\n        />\n        </div>\n        {!!login && !!logout && (\n          <Flex alignItems='center'>\n            <UserBlock account={account} login={login} logout={logout} />\n            {/* <LanguageWrapper>\n              <LangSelector currentLang={currentLang} langs={langs} setLang={setLang} />\n            </LanguageWrapper> */}\n            {/* {profile && <Avatar profile={profile} />} */}\n          </Flex>\n        )}\n      </StyledNav>\n      <BodyWrapper>\n        <Inner isPushed={isPushed} showMenu={showMenu}>\n          {children}\n        </Inner>\n        <MobileOnlyOverlay show={isPushed} onClick={() => setIsPushed(false)} role='presentation' />\n      </BodyWrapper>\n    </Wrapper>\n  )\n}\n\nexport default Menu\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}